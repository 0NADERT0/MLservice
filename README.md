# MLservice

## Описание проекта
**MLservice** — это серверная часть системы для анализа изображений повреждений автомобилей. Она предоставляет RESTful API для взаимодействия с предобученной нейронной сетью, которая анализирует изображения и возвращает информацию о повреждениях (bounding boxes, классы повреждений).

## Функционал
Сервер предоставляет следующие возможности:
- Загрузка изображений для анализа.
- Интеграция с предобученной нейронной сетью для обработки изображений.
- Возвращение результатов анализа в стандартизированном формате JSON.
- Хранение загруженных изображений и метаданных об обработке.

## Основные технологии
- **Язык разработки**: Python
- **Фреймворки**: FastAPI
- **База данных**: PostgreSQL
- **Документация API**: Swagger

## Установка и настройка

### Требования
- Python 3.10+
- Установленные зависимости (см. `requirements.txt`)

### Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/kolya5544/MLservice.git
   cd mlservice
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Установите рабочую директорию на папку `ML`

4. Установите ссылку на локальную PostgreSQL базу данных в переменной `DB_URL`, например как `export DB_URL=postgresql+asyncpg://postgres:password@localhost:5432/database`

5. Запустите сервер:
   ```bash
   uvicorn app.src.main:app --reload
   ```

## Использование API
Сервер предоставляет следующие эндпоинты:

### 1. Загрузка изображения
**POST** `/load-file`  

Загружает изображение на сервер для анализа.
Возвращает результат обработки моделью + file_name для хранилища

### 2. Получение результатов анализа
**GET** `/results/{file_name}`

Возвращает сохраненные результаты анализа.

### 3. Получение списка изображений
**GET** `/files`  

Возвращает список всех загруженных изображений с метаданными.

## Лицензия
MIT

## Контакты
Используйте GitHub Issues для связи с разработчиками